{% extends 'AppBundle::base.html.twig' %}

{% block body -%}
  <div class="row heading">
    <div class="col-md-6"><h1>{% if entity.title is empty %}{{ 'tiltag.title.missing' | trans }}{% else %}{{ entity.title }}{% endif %}</h1></div>
    <div class="col-md-6 text-right">
      {% if is_granted('TILTAG_EDIT', entity) %}
        <a class="btn btn-default" href="{{ path('tiltag_edit', { 'id': entity.id }) }}">{{ 'Edit' | trans }}</a>
      {% endif %}
    </div>
  </div>

  {% include 'AppBundle:Tiltag:show-include.html.twig' %}

  {% if is_granted('TILTAG_EDIT', entity) %}
    <div class="row">
      <div class="col-xs-12 text-right">
        {#{% form_theme create_detail_form 'AppBundle:Form:modal-form.html.twig' %}#}
        {#{{ form(create_detail_form) }}#}
        <p>
          <a href="{{ path('tiltag_detail_new', { 'id': entity.id }) }}" class="btn btn-primary">{{ icon('edit') }} {{ 'common.create' | trans }}</a>
        </p>
      </div>
    </div>
  {% endif %}

  {% block detailark -%}...{% endblock %}

  {#{% if is_granted('ROLE_ADMIN') %}#}
    {#<form method="POST" action="{{ path('regning_create', { 'id': entity.id}) }}" class="inline-block">#}
      {#<button type="submit" class="btn btn-default">{{ icon('plus') }} {{ ('tiltag.strings.regning') | trans }}</button>#}
    {#</form>#}
  {#{% endif %}#}

{% endblock %}

{% block tiltag_detail_edit %}
  {% if is_granted('TILTAG_EDIT', entity) %}
    <p><a href="{{ path('tiltag_detail_edit', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('edit') }} {{ 'common.edit' | trans }}</a></p>
    <p><a href="{{ path('tiltag_detail_copy', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('clone') }} {{ 'common.copy' | trans }}</a></p>
  {% endif %}
{% endblock %}

{% block special_tiltag_detail_edit %}
  {% if is_granted('TILTAG_EDIT', entity) %}
    <p><a href="{{ path('tiltag_detail_edit', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('edit') }} {{ 'common.edit' | trans }}</a></p>
  {% endif %}
{% endblock %}