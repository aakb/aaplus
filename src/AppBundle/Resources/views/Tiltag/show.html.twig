{% extends 'AppBundle::base.html.twig' %}

{% if add_action is not defined %}
  {% set add_action = 'tiltagdetail.actions.add' %}
{% endif %}

{% block body -%}
  <div class="row heading">
    <div class="col-md-6"><h1>{% if entity.title is empty %}{{ 'tiltag.title.missing' | trans }}{% else %}{{ entity.title }}{% endif %}</h1></div>
    <div class="col-md-6 text-right">
      {% if is_granted('TILTAG_EDIT', entity) %}
        <a class="btn btn-default" href="{{ path('tiltag_edit', { 'id': entity.id }) }}">{{ icon('edit') }} {{ 'tiltag.actions.edit' | trans }}</a>
        <a href="{{ path('tiltag_detail_new', { 'id': entity.id }) }}" class="btn btn-primary">{{ icon('plus') }} {{ add_action | trans }}</a>
      {% endif %}
    </div>
  </div>

  <div>

    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation"><a href="#oversigt" aria-controls="{{ 'tiltag.strings.oversigt' | trans }}" role="tab" data-toggle="tab">{{ 'tiltag.strings.oversigt' | trans }}</a></li>
      <li role="presentation" class="active"><a href="#detailark" aria-controls="{{ 'tiltag.strings.oversigt' | trans }}" role="tab" data-toggle="tab">{{ 'tiltag.strings.detailark' | trans }}</a></li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane" id="oversigt">
        {% include 'AppBundle:Tiltag:show-include.html.twig' %}
      </div>
      <div role="tabpanel" class="tab-pane active" id="detailark">
        {% block detailark -%}...{% endblock %}
      </div>
    </div>

  </div>

{% endblock %}

{% block tiltag_detail_edit %}
  {% if is_granted('TILTAG_EDIT', entity) %}
    <p><a href="{{ path('tiltag_detail_edit', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('edit') }} {{ 'common.edit' | trans }}</a></p>
    <p><a href="{{ path('tiltag_detail_copy', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('clone') }} {{ 'common.copy' | trans }}</a></p>
  {% endif %}
{% endblock %}

{% block special_tiltag_detail_edit %}
  {% if is_granted('TILTAG_EDIT', entity) %}
    <p><a href="{{ path('tiltag_detail_edit', { 'id': detail.id }) }}" class="btn btn-default btn-xs">{{ icon('edit') }} {{ 'common.edit' | trans }}</a></p>
  {% endif %}
{% endblock %}